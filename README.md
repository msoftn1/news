# Документация

## разворот проекта

- установить PHP 7.4, maria db, composer.
- клонировать репозиторий
- установить зависимости "composer install"
- копировать .env.example в .env
- настроить базу в файле .env
- настроить ключ для newsapi в файле .env
- запустить миграции "php artisan migrate"
- создать симлинк на каталог с файлами "cd public/ && ln -s ../storage/app/files files"
- запустить тесты "vendor/bin/phpunit"
- запустить встроенный сервер "php artisan serve" или настроить nginx и php-fpm с конфигом для ларавель


## Импорт новостей
- запустить команду "php artisan news:load-sources" для импорта исчтоников
- запустить команду "php artisan news:load-news" для импорта новостей
- добавить обе команды в крон или супервизор в зависимости от потребностей в новом контенте и возможностей вашего ключа (лимит запросов, на один импорт расходуется около 130 запросов)

## API
- создать пользователя командой "php artisan user:create admin admin@news.com 123456" в ответ получить api_token
- документация https://app.swaggerhub.com/apis-docs/N7835/News/1.0.0#/
- в запрос добавить заголовок "Authorization: Bearer {api_token}"

## Возможности сайта
- новости на главной
- новости по категориям
- новости по авторам
- новости по источника
- новости по датам
- новости по языкам
- поиск новостей
- api

## Документация к коду
- public/build/api/html/index.xhtml
